import"./modulepreload-polyfill-B5Qt9EMX.js";import{i as q}from"./auth-gate-BVWKmKT_.js";q({loginPath:"/login"});(()=>{const b="is-mobile-sidebar-open",m="is-desktop-sidebar-collapsed",y=t=>{document.body.classList.toggle("no-scroll",t)},w=()=>{document.body.classList.remove("sidebar-collapsed",m);try{localStorage.setItem("sidebarCollapsed","0")}catch{}},k=()=>{try{return localStorage.getItem("sidebarCollapsed")==="1"}catch{return!1}},L=t=>{try{localStorage.setItem("sidebarCollapsed",t?"1":"0")}catch{}},h=(t,o=!0)=>{window.innerWidth<768||(document.body.classList.toggle(m,t),document.body.classList.remove("sidebar-collapsed"),o&&L(t))},S=()=>{window.innerWidth<768||h(k(),!1)};window.innerWidth<768&&w();const A=()=>{Array.from(document.querySelectorAll("header nav, body > nav, .top-nav, nav")).forEach((o,l)=>{const d=o.querySelector(".menu");if(!d)return;const v=o.querySelector(":scope > .btn-nav");if(o.classList.add("has-mobile-nav"),v&&!d.querySelector(".btn-nav-mobile")){const i=v.cloneNode(!0);i.classList.add("btn-nav-mobile"),i.removeAttribute("style"),d.appendChild(i)}if(o.querySelector(".mobile-menu-toggle"))return;const n=document.createElement("button");n.type="button",n.className="mobile-menu-toggle",n.setAttribute("aria-label","Abrir menu"),n.setAttribute("aria-expanded","false"),n.innerHTML="<span></span><span></span><span></span>",o.appendChild(n);let s=document.querySelector(`.mobile-menu-overlay[data-nav-overlay="${l}"]`);s||(s=document.createElement("div"),s.className="mobile-menu-overlay",s.dataset.navOverlay=String(l),document.body.appendChild(s));const a=()=>{o.classList.remove("mobile-open"),document.body.classList.remove("nav-open"),n.setAttribute("aria-expanded","false"),y(document.body.classList.contains(b))},p=()=>{document.querySelectorAll(".has-mobile-nav.mobile-open").forEach(i=>{i.classList.remove("mobile-open")}),o.classList.add("mobile-open"),document.body.classList.add("nav-open"),n.setAttribute("aria-expanded","true"),y(!0)};n.addEventListener("click",()=>{o.classList.contains("mobile-open")?a():p()}),s.addEventListener("click",a),d.querySelectorAll("a").forEach(i=>i.addEventListener("click",a)),window.addEventListener("resize",()=>{window.innerWidth>767&&o.classList.contains("mobile-open")&&a()})})},O=()=>{const t=document.getElementById("sidebar");if(!t)return;const o=document.getElementById("app-root"),l=document.querySelector("main"),d="#sidebarToggleBtn, [data-sidebar-toggle]",v=e=>{document.body.classList.toggle("planner-mobile-stack",e)},n=e=>{document.body.classList.toggle("subjects-mobile-header",e)},s=()=>document.body.classList.contains(b);document.body.classList.add("has-app-sidebar");let a=document.querySelector(".app-sidebar-overlay");a||(a=document.createElement("div"),a.className="app-sidebar-overlay",document.body.appendChild(a));const p=e=>{if(!(e instanceof HTMLElement))return!1;const r=window.getComputedStyle(e);return r.display!=="none"&&r.visibility!=="hidden"&&r.opacity!=="0"},i=()=>{const e=Array.from(document.querySelectorAll(".modal-overlay")).some(p),r=p(document.getElementById("objectiveModal")),c=p(document.getElementById("pomodoroSettingsModal")),g=p(document.getElementById("confirmModal")),M=e||r||c||g;document.body.classList.toggle("has-open-modal",M),y(M?!0:document.body.classList.contains("nav-open"))},f=()=>{const e=window.innerWidth<768,r=s();e?(w(),v(r),n(r)):(document.body.classList.remove(b),document.body.style.removeProperty("display"),document.body.style.removeProperty("min-height"),document.body.style.removeProperty("height"),document.body.style.removeProperty("overflow-y"),t.style.removeProperty("position"),t.style.removeProperty("top"),t.style.removeProperty("left"),t.style.removeProperty("bottom"),t.style.removeProperty("height"),t.style.removeProperty("width"),t.style.removeProperty("min-width"),t.style.removeProperty("max-width"),t.style.removeProperty("z-index"),t.style.removeProperty("overflow-y"),t.style.removeProperty("overflow-x"),t.style.removeProperty("transform"),t.style.removeProperty("transition"),o&&(o.style.removeProperty("width"),o.style.removeProperty("max-width"),o.style.removeProperty("margin-left"),o.style.removeProperty("min-width"),o.style.removeProperty("flex"),o.style.removeProperty("overflow"),o.style.removeProperty("overflow-x"),o.style.removeProperty("transition")),l&&(l.style.removeProperty("width"),l.style.removeProperty("max-width"),l.style.removeProperty("min-width"),l.style.removeProperty("overflow-x")),v(!1),n(!1))},u=()=>{document.body.classList.remove(b),f(),y(document.body.classList.contains("nav-open"))},P=()=>{document.body.classList.add(b),f(),y(document.body.classList.contains("nav-open"))},W=()=>{if(window.innerWidth<768)return;const e=document.body.classList.contains(m);h(!e)},x=()=>{window.innerWidth>=768||(s()?u():P())};a.addEventListener("click",u);const D=e=>{const r=e.target instanceof Element?e.target:null;!r||!r.closest(d)||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),window.innerWidth<768?x():W())};document.addEventListener("click",D,!0),document.addEventListener("pointerdown",e=>{if(window.innerWidth>=768||!s())return;const r=e.target instanceof Element?e.target:null;r&&(r.closest("#sidebar")||r.closest(d)||u())},!0),t.addEventListener("pointerdown",e=>{if(window.innerWidth>=768||s())return;const r=e.target instanceof Element?e.target:null;r&&(r.closest("a, button, [data-lucide], svg, i, input, select, textarea, label")||P())});const E=()=>{window.innerWidth>=768||w()},C=()=>{if(window.innerWidth<768)return;const e=document.body.classList.contains("sidebar-collapsed")||document.body.classList.contains(m);h(e)};new MutationObserver(e=>{for(const r of e)if(r.type==="attributes"){const c=document.body.classList,g=c.contains("sidebar-collapsed");g&&c.remove("sidebar-collapsed"),window.innerWidth>=768&&g&&!c.contains(m)&&(c.add(m),L(!0))}}).observe(document.body,{attributes:!0,attributeFilter:["class"]}),new MutationObserver(()=>{i()}).observe(document.body,{subtree:!0,attributes:!0,attributeFilter:["class","style"]}),document.addEventListener("click",()=>{window.setTimeout(i,0)},!0),t.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{window.innerWidth<768&&u()})}),window.addEventListener("resize",()=>{f(),E(),window.innerWidth>767?(u(),S(),C()):u()}),S(),f(),E(),C(),i()};document.addEventListener("DOMContentLoaded",()=>{A(),O()})})();console.log("StudyO frontend loaded.");
