import"./modulepreload-polyfill-B5Qt9EMX.js";import{i as g,r as p}from"./auth-gate-BVWKmKT_.js";import"./responsive-ovXux56E.js";g();const E=document.getElementById("registerForm"),u=document.getElementById("password"),d=document.getElementById("passwordConfirm"),I=document.getElementById("rule-length"),B=document.getElementById("rule-uppercase"),h=document.getElementById("rule-number"),f=document.getElementById("rule-match"),n=document.getElementById("errorMessage"),l=document.getElementById("successMessage");function m(){const e=u.value,t=d.value,s=e.length>=8,o=/[A-Z]/.test(e),r=/[0-9]/.test(e),a=e&&t&&e===t;return c(I,s),c(B,o),c(h,r),c(f,a),s&&o&&r&&a}function c(e,t){e.textContent=e.textContent.replace(/^✔️|❌/,t?"✔️":"❌"),e.style.color=t?"green":"red"}u.addEventListener("input",m);d.addEventListener("input",m);E.addEventListener("submit",async e=>{if(e.preventDefault(),n.style.display="none",l.style.display="none",!m()){n.textContent="La contraseña no cumple los requisitos.",n.style.display="block";return}const t=document.getElementById("username").value,s=document.getElementById("firstName").value,o=document.getElementById("lastName").value,r=document.getElementById("email").value,a=u.value,i=document.getElementById("country").value;try{await p(t,r,a,s,o,i),l.textContent="¡Cuenta creada exitosamente! Redirigiendo...",l.style.display="block",setTimeout(()=>{window.location.href="/login"},1500)}catch(y){n.textContent=y.message||"Error al crear la cuenta.",n.style.display="block"}});
